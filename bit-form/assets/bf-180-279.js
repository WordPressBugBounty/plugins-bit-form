import{w as I,v as w,r as o,a as j,j as t,S as k,B as v,Y as N,_ as G}from"./main-348.js";import"./bf-628-71.js";import{B as _}from"./bf-115-74.js";import{S as y}from"./bf-467-122.js";import{a as B,G as C,s as R}from"./bf-518-360.js";import{I as b}from"./bf-944-332.js";import E from"./bf-835-239.js";import{h as F,d as P}from"./bf-900-361.js";import"./bf-336-188.js";import"./bf-568-76.js";import"./bf-303-362.js";import"./bf-804-401.js";import"./bf-150-402.js";function K({formFields:l,setIntegration:d,integrations:p,allIntegURL:h}){const g=I(),{formID:i}=w(),[m,n]=o.useState(!1),[s,c]=o.useState(1),{css:f}=j(),[u,a]=o.useState({show:!1}),[e,r]=o.useState({name:"Google Sheet API",type:"Google Sheet",clientId:"",clientSecret:"",spreadsheetId:"",worksheetName:"",field_map:[{formField:"",googleSheetField:""}],header:"ROWS",headerRow:"A1",actions:{}});o.useEffect(()=>{window.opener&&B("googleSheet")},[]);const S=()=>{if(setTimeout(()=>{document.getElementById("btcd-settings-wrp").scrollTop=0},300),!P(e)){a({show:!0,msg:"Please map fields to continue."});return}e.spreadsheetId!==""&&e.worksheetName!==""&&e.field_map.length>0&&c(3)};return t.jsxs("div",{children:[t.jsx(k,{snack:u,setSnackbar:a}),t.jsx("div",{className:"txt-center w-9 mt-2 cal-width",children:t.jsx(y,{step:3,active:s})}),t.jsx(E,{formID:i,sheetConf:e,setSheetConf:r,step:s,setstep:c,setSnackbar:a,isLoading:m,setisLoading:n}),t.jsxs("div",{className:"btcd-stp-page",style:{width:s===2&&900,height:s===2&&"100%"},children:[t.jsx(C,{formID:i,formFields:l,handleInput:x=>F(x,e,r,i,n,a),sheetConf:e,setSheetConf:r,isLoading:m,setisLoading:n,setSnackbar:a}),t.jsxs(v,{onClick:()=>S(),disabled:!e.spreadsheetId||!e.worksheetName||e.field_map.length<1,className:f(N.ftRight),children:[G("Next"),t.jsx(_,{className:"ml-1 rev-icn"})]})]}),t.jsx(b,{step:s,saveConfig:()=>R(p,d,h,e,g)})]})}export{K as default};
